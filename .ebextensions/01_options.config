# https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create-deploy-python-container.html
# option_settings:
#  namespace:
#    option name: option value
#    option name: option value
option_settings:
  aws:elasticbeanstalk:application:environment:
    DJANGO_SETTINGS_MODULE: web.settings
  aws:elasticbeanstalk:container:python:
    WSGIPath: web/wsgi.py
    #NumProcesses: 3
    #NumThreads: 20

# https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/customize-containers-ec2.html#linux-packages
# https://realpython.com/deploying-a-django-app-and-postgresql-to-aws-elastic-beanstalk/
packages:
  yum:
    postgresql96-devel: []  # empty string or list indicates that you want the latest version

# https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/ebextensions.html
#container_commands:
#  01_migrate:
#    command: "django-admin.py migrate"
#    leader_only: true # only run once when deploying to multiple instances
#  02_npminstall:  # should be done in circleci
#    command: "npm install"
#  99customize:
#    command: "scripts/customize.sh"